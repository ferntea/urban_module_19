{% extends 'first_task/base.html' %}

{% block title %}Магазин настольных игр{% endblock %}

{% block content %}

<style>
    .game {
        border: 1px solid #ccc;
        padding: 10px;
        margin: 10px;
    }
</style>

<h1>Магазин настольных игр</h1>
<div id="game-list">
    <div class="game">
        <h2>Имаджинариум</h2>
        <p>Цена: 20.00</p>
        <button onclick="addToCart('Имаджинариум', 20)">Купить</button>
    </div>
    <div class="game">
        <h2>Кубик Рубика</h2>
        <p>Цена: 25.00</p>
        <button onclick="addToCart('Кубик Рубика', 25)">Купить</button>
    </div>
    <div class="game">
        <h2>Эрудит</h2>
        <p>Цена: 30.00</p>
        <button onclick="addToCart('Эрудит', 30)">Купить</button>
    </div>
</div>

<script>
    // JavaScript addToCart function remains here
    let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    let totalPrice = parseFloat(localStorage.getItem('totalPrice')) || 0;

    function addToCart(gameName, gamePrice) {
        cartItems.push(gameName);
        totalPrice += gamePrice;

       //The updateCart function is no longer needed here
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        localStorage.setItem('totalPrice', totalPrice);
    }
</script>

{% endblock %}
